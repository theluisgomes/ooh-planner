<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OOH Planner - Planejadora de M√≠dia Out-of-Home</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Header com Total Global -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="logo.png" alt="Logo OOH Planner" class="logo-icon"
                        style="width: 50px; height: 50px; border-radius: 100%;">
                    <div>
                        <h1>O Botic√°rio</h1>
                        <p class="subtitle">OOH PLANNER - DATA-FLOW V2.1</p>
                    </div>
                </div>

                <!-- Buttons removed as per request -->
                <!-- <div class="header-actions">
                    <button class="btn btn-secondary" id="btnConfig">
                        ‚öôÔ∏è CONFIG
                    </button>
                    <button class="btn btn-primary" id="btnStore">
                        üíæ STORE ON BIGQUERY
                    </button>
                </div> -->

                <div class="total-card">
                    <div class="total-label">BUDGET L√çQUIDO ATUAL</div>
                    <div class="total-value" id="totalCard">R$ 0,00</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Indicadores Globais -->
    <section class="indicators-section">
        <div class="container">
            <div class="indicators-grid">
                <div class="indicator-card">
                    <h3>Efici√™ncia L√≠quida <span style="font-size: 0.7em; opacity: 0.7;">(exposi√ß√µes/R$)</span></h3>
                    <div class="indicator-bar">
                        <div class="indicator-fill" id="eficienciaBar" style="width: 0%"></div>
                    </div>
                    <div class="indicator-labels">
                        <span>0</span>
                        <span>0.2</span>
                        <span>0.5</span>
                        <span>0.8</span>
                        <span id="eficienciaValue">0</span>
                    </div>
                </div>

                <div class="indicator-card">
                    <h3>√çndice de Exposi√ß√£o <span style="font-size: 0.7em; opacity: 0.7;">(milh√µes)</span></h3>
                    <div class="indicator-bar exposure">
                        <div class="indicator-fill" id="exposicaoBar" style="width: 0%"></div>
                    </div>
                    <div class="indicator-labels">
                        <span>0</span>
                        <span>2M</span>
                        <span>4M</span>
                        <span>6M</span>
                        <span id="exposicaoValue">0</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blocos de M√≠dia -->
    <main class="main-content">
        <div class="container">
            <div id="mediaBlocks" class="media-blocks-grid">
                <!-- Os blocos ser√£o gerados dinamicamente via JS -->
            </div>

            <div class="actions-bar" style="text-align: center; margin: 2rem 0;">
                <button id="btnAddBlock" class="btn btn-primary"
                    style="background-color: var(--primary-color); border: none; padding: 12px 24px; font-weight: 600;"
                    onclick="addBlock()">
                    + ADICIONAR RECORTE DE M√çDIA
                </button>
            </div>
        </div>
    </main>

    <!-- Tabela Consolidada -->
    <section class="consolidated-section">
        <div class="container">
            <div class="section-header">
                <h2>üìã Tabela Consolidada</h2>
                <div class="section-actions">
                    <button class="btn btn-secondary" id="btnResetAll">üîÑ Reset Tudo</button>
                    <button class="btn btn-primary" id="btnExport">üì• Exportar CSV</button>
                </div>
            </div>

            <div class="table-wrapper">
                <table class="consolidated-table" id="consolidatedTable">
                    <thead>
                        <tr>
                            <th>M√≠dia</th>
                            <th>UF</th>
                            <th>Pra√ßa</th>
                            <th>Taxonomia</th>
                            <th>Exibidores</th>
                            <th>Formato</th>
                            <th>Faces</th>
                            <th>Budget Input</th>
                            <th>Budget Usado</th>
                            <th>Ideal</th>
                            <th>Sobrando</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="consolidatedTableBody">
                        <tr class="empty-state">
                            <td colspan="12">Nenhuma m√≠dia configurada ainda</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Template do Bloco de M√≠dia -->
    <template id="mediaBlockTemplate">
        <div class="media-block">
            <div class="media-block-header">
                <div class="media-number">
                    <span class="number-badge">2</span>
                    <div>
                        <h3>RECORTE DE M√çDIA</h3>
                        <p class="config-label">CONFIGURA√á√ÉO T√âCNICA #02</p>
                    </div>
                </div>
                <div class="media-status">
                    <span class="status-badge inactive">INATIVO</span>
                    <button class="btn-icon btn-delete" title="Resetar bloco">üóëÔ∏è</button>
                </div>
            </div>

            <div class="media-block-content">
                <!-- PRIMARY INPUTS (Budget & Campaign Cycle) -->
                <div class="primary-inputs-section">
                    <div class="input-group-primary">
                        <div class="form-group budget-primary">
                            <label>üí∞ BUDGET TOTAL (R$)</label>
                            <input type="number" class="form-control input-budget" placeholder="Ex: 50000" min="0"
                                step="1000">
                        </div>

                        <div class="form-group cycle-primary">
                            <label>üìÖ CICLO DE CAMPANHA (semanas)</label>
                            <input type="number" class="form-control input-campaign-cycle" placeholder="Ex: 4" min="1"
                                step="1">
                        </div>
                    </div>
                </div>

                <!-- OPTIONAL FILTERS (Collapsible) -->
                <details class="optional-filters-section">
                    <summary class="filters-toggle">üîç Filtros Adicionais (Opcional)</summary>
                    <div class="filters-content">
                        <div class="filters-grid">
                            <div class="form-group">
                                <label>UF</label>
                                <select class="form-control filter-uf">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>REGI√ÉO</label>
                                <select class="form-control filter-regional_boticario">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>PRA√áA</label>
                                <select class="form-control filter-praca">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>TAXONOMIA</label>
                                <select class="form-control filter-taxonomia">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>CLUSTER EXIBIDORES</label>
                                <select class="form-control filter-cluster_exibidores">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>EXIBIDORES</label>
                                <select class="form-control filter-exibidores">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>CLUSTER FORMATO</label>
                                <select class="form-control filter-cluster_formato">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>FORMATO</label>
                                <select class="form-control filter-formato">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>PERIODICIDADE</label>
                                <select class="form-control filter-periodicidade">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>FLIGHT</label>
                                <select class="form-control filter-flight">
                                    <option value="Tudo">Tudo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" class="filter-digital-checkbox"
                                        style="width: 18px; height: 18px; cursor: pointer;">
                                    <span>Digital</span>
                                </label>
                            </div>

                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" class="filter-estatico-checkbox"
                                        style="width: 18px; height: 18px; cursor: pointer;">
                                    <span>Est√°tico</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- BUDGET STATUS & RESULTS -->
                <div class="budget-results-section" style="display: none;">
                    <div class="budget-status-card">
                        <div class="status-indicator-main">
                            <div class="status-badge-large">STATUS DO BUDGET</div>
                            <div class="status-message-main">--</div>
                        </div>
                    </div>

                    <div class="budget-metrics-grid">
                        <div class="metric-card">
                            <div class="metric-label">Faces Alocadas</div>
                            <div class="metric-value faces-count">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Budget Ideal</div>
                            <div class="metric-value ideal-budget">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Budget Utilizado</div>
                            <div class="metric-value allocated-budget">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Sobrando</div>
                            <div class="metric-value remaining-budget">--</div>
                        </div>
                    </div>

                    <!-- Priority List -->
                    <div class="faces-priority-section">
                        <h4>üìã Faces Recomendadas (por prioridade ROI)</h4>
                        <div class="priority-table-wrapper">
                            <table class="priority-table">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Pra√ßa</th>
                                        <th>UF</th>
                                        <th>Exibidores</th>
                                        <th>Formato</th>
                                        <th>Qtd</th>
                                        <th>Custo Un.</th>
                                        <th>Total</th>
                                        <th>ROI</th>
                                    </tr>
                                </thead>
                                <tbody class="priority-list-body">
                                    <!-- Populated dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Mensagem de erro/aviso -->
                <div class="block-message" style="display: none;"></div>
            </div>
        </div>
    </template>

    <script src="js/app.js"></script>
</body>

</html>